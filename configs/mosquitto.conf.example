# Mosquitto MQTT Broker Configuration
# Denne filen plasseres i mosquitto/config/mosquitto.conf

persistence true
persistence_location /mosquitto/data/
log_dest file /mosquitto/log/mosquitto.log
log_dest stdout

# MQTT listener
listener 1883
protocol mqtt

# WebSocket listener
listener 9001
protocol websockets

# === SIKKERHET ===
# For utviklingsmiljø (IKKE PRODUKSJON!)
allow_anonymous true

# For produksjon - kommenter ut linjen over og bruk:
# allow_anonymous false
# password_file /mosquitto/config/passwd

# === TILGANGSKONTROLL ===
# Uncomment for å bruke ACL (Access Control List)
# acl_file /mosquitto/config/acl.conf

# === LOGGING ===
log_type error
log_type warning
log_type notice
log_type information

# === MAX KLIENTER ===
max_connections -1

# === VEDVARENDE FORBINDELSER ===
max_keepalive 65535

# === MESSAGE SIZE ===
message_size_limit 0
